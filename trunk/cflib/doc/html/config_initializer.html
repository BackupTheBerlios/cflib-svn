<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CFLIB - Flexible Configuration Library: Configuration Initializer</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="config_initializer">Configuration Initializer </a></h1>The <b>"Configuration Initializer"</b> is the major interface between the user program and CFLIB.<p>
It is an Array of <a class="el" href="struct_c_o_n_f_i_g.html">CONFIG</a> items, just as the CFLIB Configuration Database itself.<p>
Every parameter is characterized by:<p>
<ul>
<li><a class="el" href="config_initializer.html#parameter_name">Parameter Name</a> (<a class="el" href="struct_c_o_n_f_i_g.html#196d63e311e3d1aa79fe4f16f20ce2a5">CONFIG::name</a>)</li></ul>
<p>
<ul>
<li><a class="el" href="config_initializer.html#parameter_default">Parameter Default Value</a> (<a class="el" href="struct_c_o_n_f_i_g.html#b8cae13203b07fabaa40e407fa8dbdfb">CONFIG::inhalt</a>)</li></ul>
<p>
<ul>
<li><a class="el" href="config_initializer.html#parameter_option">Commandline Option for Parameter</a> (<a class="el" href="struct_c_o_n_f_i_g.html#60563bd93e85c1ddb8291a2d27a9c472">CONFIG::option</a>)</li></ul>
<p>
<ul>
<li><a class="el" href="config_initializer.html#parameter_flagmask">Special Option Flags Mask for Parameter</a> (<a class="el" href="struct_c_o_n_f_i_g.html#b04d08abdf758c0400caaded716f4089">CONFIG::flag</a>)</li></ul>
<p>
An example initializer may look like this: <div class="fragment"><pre class="fragment"> <span class="keyword">const</span> <a class="code" href="struct_c_o_n_f_i_g.html" title="CFLIB Configuration Database Entry.">CONFIG</a> initializer[] = {
       <span class="comment">// name        default        option  flag</span>
     { <span class="stringliteral">"SPI_PROFILE"</span>, <span class="stringliteral">"~/.spi.cnf"</span>,  <span class="charliteral">'c'</span>,    <a class="code" href="group__special__options__mask.html#gfeeb63d4d8c498bec4a237ad8b94f02f" title="Entry is Private Configuration File.">CF_SETFILE</a>|<a class="code" href="group__special__options__mask.html#g29dbd098a75a23ddc42b3b53e430d694" title="Source: Environment Variable.">CF_SET_ENV</a>,     },
     { <span class="stringliteral">"SPI_SYSCONF"</span>, <span class="stringliteral">"/etc/spi.cnf"</span>,<span class="charliteral">' '</span>,    <a class="code" href="group__special__options__mask.html#gbb03ea68e07e388da2c1337a1582c72e" title="Entry is System Configuration File.">CF_SYS_SETFILE</a>|<a class="code" href="group__special__options__mask.html#gd76153c65f68cc0ee5c1a04c8c3e80bf" title="Don&amp;#39;t include in savefile / mark entry.">CF_NOSAVE</a>,  },
     { <span class="stringliteral">"SPI_DEFS"</span>,    <span class="stringliteral">"loop-0.A"</span>,    <span class="charliteral">'f'</span>,    <a class="code" href="group__special__options__mask.html#g603f0467f101b71f5f869381429ffef4" title="Section in Configuration File.">CF_SECTION</a>,                },
     { <span class="stringliteral">"SPI_ID"</span>,      <span class="stringliteral">""</span>,            <span class="charliteral">' '</span>,    <a class="code" href="group__special__options__mask.html#gabf1d4d312964af93bd55f71eeec6988" title="Source: Private Configuration File.">CF_SET_PRIV</a>,               },
     { <span class="stringliteral">"verbosity"</span>,   <span class="stringliteral">"1"</span>,           <span class="charliteral">'v'</span>,    <a class="code" href="group__special__options__mask.html#gb33869d596619ad14675c053925a42e0" title="Entry is Integer.">CF_INT</a>|<a class="code" href="group__special__options__mask.html#g9e526dae88bf6803772107ff283637b5" title="Argument is concatenated to option.">CF_CONCAT</a>|<a class="code" href="group__special__options__mask.html#gd76153c65f68cc0ee5c1a04c8c3e80bf" title="Don&amp;#39;t include in savefile / mark entry.">CF_NOSAVE</a>,},
     { <span class="stringliteral">"label_items"</span>, <a class="code" href="group__cflib__core.html#g355c714f2912ac336b8b03468c978d8c" title="Flag is set.">CF_FLAG_ON</a>,    <span class="charliteral">'l'</span>,    <a class="code" href="group__special__options__mask.html#g1d1f1d1b6eac6b5d9970102318ab2667" title="Entry is Flag.">CF_FLAG</a>,                   },
     { <span class="stringliteral">"label_date"</span>,  <a class="code" href="group__cflib__core.html#g070d2ce7b6bb7e5c05602aa8c308d0c4" title="NULL, if not defined.">NULL</a>,          <span class="charliteral">' '</span>,    <a class="code" href="group__special__options__mask.html#g1c5b511a34d2c0db6631539ba81a4386" title="Date string.">CF_DATE</a>|<a class="code" href="group__special__options__mask.html#g8d6cd1608fef5638efe964da63edf2dd" title="Source: Function Call.">CF_SET_PUT</a>,        },
     { <span class="stringliteral">"label_logo"</span>,  <a class="code" href="group__cflib__core.html#g070d2ce7b6bb7e5c05602aa8c308d0c4" title="NULL, if not defined.">NULL</a>,          <span class="charliteral">'L'</span>,    0,                         },
     { <span class="stringliteral">"output_file"</span>, <a class="code" href="group__cflib__core.html#g070d2ce7b6bb7e5c05602aa8c308d0c4" title="NULL, if not defined.">NULL</a>,          <span class="charliteral">'o'</span>,    <a class="code" href="group__special__options__mask.html#g9e526dae88bf6803772107ff283637b5" title="Argument is concatenated to option.">CF_CONCAT</a>|<a class="code" href="group__special__options__mask.html#ge39e0d9b4e9af8c6d4b3676783dd26e0" title="Ask the user for unresolved item after configuration parsing.">CF_QUERY</a>,        },
     { <span class="stringliteral">"TERM"</span>,        <span class="stringliteral">"0.2"</span>,         <span class="charliteral">'T'</span>,    <a class="code" href="group__special__options__mask.html#g64c30a2865061d0c1074bc6ec91e3dcf" title="Entry is String.">CF_STR</a>|<a class="code" href="group__special__options__mask.html#g72b75851880f36aaa5a52fdfe7960cca" title="Do not check environment for variable.">CF_IGN_ENV</a>,         },
     { <span class="stringliteral">"SCALE"</span>,       <span class="stringliteral">"1"</span>,           <span class="charliteral">'S'</span>,    <a class="code" href="group__special__options__mask.html#geefdbef320cbd7179f1fb0ebe0fcf5ce" title="Entry is Float.">CF_REAL</a>|<a class="code" href="group__special__options__mask.html#g72b75851880f36aaa5a52fdfe7960cca" title="Do not check environment for variable.">CF_IGN_ENV</a>,        },
     { <span class="stringliteral">"LOOPMOD"</span>,     <span class="stringliteral">"random"</span>,      <span class="charliteral">'1'</span>,    <a class="code" href="group__special__options__mask.html#g97d17b070dac10c14d3930c58bfba76f" title="Commandline argument not followig an option.">CF_NO_OPT_ARG</a>,             },
     { <span class="stringliteral">"CYCLES"</span>,      <span class="stringliteral">"2009"</span>,        <span class="charliteral">'2'</span>,    <a class="code" href="group__special__options__mask.html#gb33869d596619ad14675c053925a42e0" title="Entry is Integer.">CF_INT</a>|<a class="code" href="group__special__options__mask.html#g97d17b070dac10c14d3930c58bfba76f" title="Commandline argument not followig an option.">CF_NO_OPT_ARG</a>,      },
     { <span class="stringliteral">"CF_DUMPVERB"</span>, <a class="code" href="group__advanced__features.html#g05403834c7c6377bcf762d640c0d0854" title="Dump option Column headers.">CFD_COLHEAD</a>,   <span class="charliteral">' '</span>,    <a class="code" href="group__special__options__mask.html#gb33869d596619ad14675c053925a42e0" title="Entry is Integer.">CF_INT</a>|<a class="code" href="group__special__options__mask.html#gd76153c65f68cc0ee5c1a04c8c3e80bf" title="Don&amp;#39;t include in savefile / mark entry.">CF_NOSAVE</a>|<a class="code" href="group__special__options__mask.html#ga4d82cea91ede4aee78594417894e368" title="Last entry in settings array.">CF_LAST</a>,  },
 };
</pre></div><p>
The Configuration Initializer controls the behavior and actions of all <b>cf*</b>() functions, starting with the control of <a class="el" href="config_levels.html#initialization_process">Parsing Levels in the Initialization Process</a>.<h2><a class="anchor" name="parameter_name">
Parameter Name</a></h2>
Every entry in the initializer must have a name, that is a non-empty string, which is searched for in the environment and in the configuration files and which is used as an argument to the inquiry functions. Parameters that have a name beginning with <b>"CF_"</b> may have special meaning, see <a class="el" href="parameter_types.html#cflib_parameters">CFLIB Parameters</a>.<h2><a class="anchor" name="parameter_default">
Parameter Default Value</a></h2>
As the default content of an entry you can specify a <code>NULL</code> pointer or a string, which may be empty. If <a class="el" href="group__special__options__mask.html#g1d1f1d1b6eac6b5d9970102318ab2667">CF_FLAG</a> is set for that entry you should use the <a class="el" href="group__cflib__core.html#g355c714f2912ac336b8b03468c978d8c">CF_FLAG_ON</a> or <a class="el" href="group__cflib__core.html#g7010abac2c80c121772da4d9c03332ee">CF_FLAG_OFF</a> macros.<h2><a class="anchor" name="parameter_option">
Commandline Option for Parameter</a></h2>
You can control whether and how an entry's content can be set from the Commandline by setting one of the following <b>"Option Specifier"</b> Characters (and Special Option Flags where indicated):<p>
<ul>
<li>'<em> </em>' (blank)<ul>
<li>No Commandline Option for this Parameter</li></ul>
</li>
</ul>
<ul>
<li>'<em>c</em>' (<em>c</em> = any "normal" character)<ul>
<li>Looks for '-c &lt;<em>string&gt;'</em> on the Commandline</li><li>Looks for '-c&lt;<em>string&gt;'</em> on the Commandline, if Flag <a class="el" href="group__special__options__mask.html#g9e526dae88bf6803772107ff283637b5">CF_CONCAT</a> is set in the Special Options Mask</li><li>Looks for '-c&lt;<em>char&gt;'</em> on the Commandline, if Flag <a class="el" href="group__special__options__mask.html#g1d1f1d1b6eac6b5d9970102318ab2667">CF_FLAG</a> is set in the Special Options Mask</li></ul>
</li>
</ul>
<ul>
<li>'<em>#</em>' (<em>#</em> = a positive number = 1, 2, 3, ...)<ul>
<li>Looks for the 1st, 2nd, 3rd, ... '&lt;<em>string&gt;'</em> that is not part of an option, if Flag <a class="el" href="group__special__options__mask.html#g97d17b070dac10c14d3930c58bfba76f">CF_NO_OPT_ARG</a> is set in the Special Options Mask</li></ul>
</li>
</ul>
<h2><a class="anchor" name="parameter_flagmask">
Special Option Flags Mask for Parameter</a></h2>
Most of the magic happens here! ;-) The <b>"Special Options Mask"</b> is a Bitmask of type <a class="el" href="group__special__options__mask.html#g4854f1596d5c6e0604a478fa9a2e23f0">CFFLAGTYP</a> in Configuration Entry Structure Member <a class="el" href="struct_c_o_n_f_i_g.html#b04d08abdf758c0400caaded716f4089" title="Special Options Mask">CONFIG::flag</a> containing Type, Instruction and Information Flags for a Parameter.  See <a class="el" href="group__special__options__mask.html">Special Options Mask</a> for details.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="parameter_types.html">Types of Parameters</a> <p>
<a class="el" href="config_levels.html">Configuration Parsing Levels and Source/Origin Options</a></dd></dl>
<dl class="attention" compact><dt><b>Attention:</b></dt><dd>The last entry in the initializer list must have the <a class="el" href="group__special__options__mask.html#ga4d82cea91ede4aee78594417894e368">CF_LAST</a> Flag set! </dd></dl>
</div>
<hr size="1"><div align="right"><small>documentation generated by
<a href="http://www.doxygen.org/index.html"><strong>doxygen</strong></a> 1.5.8
for <a href="http://cflib.berlios.de"><strong>CFLIB PL 20</strong></a> [2009/01]</small></div>
</body>
</html>
