<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CFLIB - Flexible Configuration Library: General Utilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>General Utilities</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g4211f4b332e79ab5f3c691a4ab6ebaf9"></a><!-- doxytag: member="utilities::CF_BACKBUFLEN" ref="g4211f4b332e79ab5f3c691a4ab6ebaf9" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#g4211f4b332e79ab5f3c691a4ab6ebaf9">CF_BACKBUFLEN</a>&nbsp;&nbsp;&nbsp;102400</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">File copy buffer for <a class="el" href="group__utilities.html#g0fccda7427db33b2f73a3b6dca864207" title="Copy or Rename File &quot;file&quot; to Backup File &quot;file~&quot; or &quot;file...">BackupFile()</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbfbf02b37e47027916f3352798f7d44c"></a><!-- doxytag: member="utilities::DelFlag" ref="gbfbf02b37e47027916f3352798f7d44c" args="(a, b)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#gbfbf02b37e47027916f3352798f7d44c">DelFlag</a>(a, b)&nbsp;&nbsp;&nbsp;a&amp;=(~b)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete bits of Mask <code>b</code> from Mask <code>a</code>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gfcc4d6e712f81df21ea69277d42af839"></a><!-- doxytag: member="utilities::SetFlag" ref="gfcc4d6e712f81df21ea69277d42af839" args="(a, b)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#gfcc4d6e712f81df21ea69277d42af839">SetFlag</a>(a, b)&nbsp;&nbsp;&nbsp;a|=b</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set bits of Mask <code>b</code> in Mask <code>a</code>. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#g869ea1081375ada22168696db002bc58">RemoveCR</a> (char *ptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">String Utility Function.  <a href="#g869ea1081375ada22168696db002bc58"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#gbb7b78ca5a077167e24637bba539eea1">RemoveTrailSpace</a> (char *ptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">String Utility Function.  <a href="#gbb7b78ca5a077167e24637bba539eea1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#gb6760d18c7c13f3c80d365abcb6a46b3">EatWhiteSpace</a> (char *ptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">String Utility Function.  <a href="#gb6760d18c7c13f3c80d365abcb6a46b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#g9a90e738d03b642f33901600671d225a">IsATerminal</a> (FILE *fp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test whether stream is a terminal.  <a href="#g9a90e738d03b642f33901600671d225a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#g0fccda7427db33b2f73a3b6dca864207">BackupFile</a> (const char *file, char *modus)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy or Rename File <code>"file"</code> to Backup File <code>"file~"</code> or <code>"file.bak"</code>.  <a href="#g0fccda7427db33b2f73a3b6dca864207"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__utilities.html#g4e4e8f9a03b7f3598b5efd199b9a67c9">FindFile</a> (const char *fname, const char *fpath, const char *const *fext)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a File in Path trying Extensions.  <a href="#g4e4e8f9a03b7f3598b5efd199b9a67c9"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g869ea1081375ada22168696db002bc58"></a><!-- doxytag: member="cfutil.c::RemoveCR" ref="g869ea1081375ada22168696db002bc58" args="(char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RemoveCR           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
String Utility Function. 
<p>
Strip Carriage Return at end of string (after fgets) by introducing zero byte at CR position. Original source was "STELM" by Kees and Lemmens.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Kees and Lemmens</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>pointer to beginning of string </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gbb7b78ca5a077167e24637bba539eea1"></a><!-- doxytag: member="cfutil.c::RemoveTrailSpace" ref="gbb7b78ca5a077167e24637bba539eea1" args="(char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RemoveTrailSpace           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
String Utility Function. 
<p>
Strip whitespaces at end of string by introducing zero byte after last non-whitespace character<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>Pointer to beginning of string </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gb6760d18c7c13f3c80d365abcb6a46b3"></a><!-- doxytag: member="cfutil.c::EatWhiteSpace" ref="gb6760d18c7c13f3c80d365abcb6a46b3" args="(char *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* EatWhiteSpace           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
String Utility Function. 
<p>
Set pointer to next non-whitespace-character in string. Original source was "STELM" by Kees and Lemmens.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Kees and Lemmens</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>Pointer to beginning of string </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to next non-whitespace-character in string </dd></dl>

</div>
</div><p>
<a class="anchor" name="g9a90e738d03b642f33901600671d225a"></a><!-- doxytag: member="cfutil.c::IsATerminal" ref="g9a90e738d03b642f33901600671d225a" args="(FILE *fp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IsATerminal           </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>fp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Test whether stream is a terminal. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fp</em>&nbsp;</td><td>File/Stream Pointer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>TRUE</code> or <code>FALSE</code> </dd></dl>
<dl compact><dt><b><a class="el" href="bug.html#_bug000002">Bug:</a></b></dt><dd>ANSI C doesn't have function isatty(), we always return TRUE</dd></dl>

</div>
</div><p>
<a class="anchor" name="g0fccda7427db33b2f73a3b6dca864207"></a><!-- doxytag: member="cfwrite.c::BackupFile" ref="g0fccda7427db33b2f73a3b6dca864207" args="(const char *file, char *modus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BackupFile           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>modus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy or Rename File <code>"file"</code> to Backup File <code>"file~"</code> or <code>"file.bak"</code>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>Name of regular file to be opened </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>modus</em>&nbsp;</td><td>Backup Mode: <ul>
<li><code>"r"</code> Rename </li>
<li><code>"d"</code> Duplicate, Copy </li>
<li><code>"@e ?"</code> Default <code>"d"</code> </li>
<li><code>"@e ?d"</code> docs-style (<code></code>.bak) </li>
<li><code>"@e ?c"</code>, <code>"??"</code> Un*x Style (<code>~</code>)</li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li><code>0</code> : Configuration has been saved to file successfully</li>
</ul>
<ul>
<li><code>!=0</code> : An error occurred:<ul>
<li><a class="el" href="group__errors.html#gda14f93a466c819b6286bcf7f85bbbe5">CFE_BOF</a> : Invalid filename / open error</li><li><a class="el" href="group__errors.html#g722db0752b9a2f977065b8001da18101">CFE_BMF</a> : Backup: Memory allocation Failed. </li><li><a class="el" href="group__errors.html#gee4caa017da2daf88aa192647f5ebaba">CFE_BRF</a> : Rename file failed</li><li><a class="el" href="group__errors.html#g793b92e4f9ea3a7acde0cc0dcf80701f">CFE_BBF</a> : Source file open error</li><li><a class="el" href="group__errors.html#g58992d0fae72c0a93a8fb1ec9cc1cd9c">CFE_BWF</a> : Target file write error </li></ul>
</li>
</ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g4e4e8f9a03b7f3598b5efd199b9a67c9"></a><!-- doxytag: member="findfile.c::FindFile" ref="g4e4e8f9a03b7f3598b5efd199b9a67c9" args="(const char *fname, const char *fpath, const char *const *fext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* FindFile           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const *&nbsp;</td>
          <td class="paramname"> <em>fext</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find a File in Path trying Extensions. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Eric R. Smith </dd></dl>
<dl class="user" compact><dt><b>License:</b></dt><dd>Public Domain</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>File Name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fpath</em>&nbsp;</td><td>Search Path: String of Directories separated by <b>PATHSEP1</b> (':' or ';') or <b>PATHSEP2</b> (nothing or ',') </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fext</em>&nbsp;</td><td>Array of possible Extensions (optional, default is OS dependent)</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The name by which the file was found or <code>NULL</code> </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><div align="right"><small>documentation generated by
<a href="http://www.doxygen.org/index.html"><strong>doxygen</strong></a> 1.5.8
for <a href="http://cflib.berlios.de"><strong>CFLIB PL 20</strong></a> [2009/01]</small></div>
</body>
</html>
