<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CFLIB - Flexible Configuration Library: Configuration Parsing Levels and Source/Origin Options</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="config_levels">Configuration Parsing Levels and Source/Origin Options </a></h1>CFLIB is designed to give you a maximum of possibilities for feeding parameters and parameter values into the configuration.<h2><a class="anchor" name="origin_window">
Origin Window</a></h2>
The library remembers the source/origin of all parameter values by setting one of the <b>"Source Flags"</b> in the <b>"Origin Window"</b> of the <a class="el" href="group__special__options__mask.html">Special Options Mask</a> ranging from Bit Offset 8 to 15 (see <a class="el" href="config_levels.html#parsing_levels">Parsing Levels</a>). On initialization the Origin Window Flags <b>CF_SET_*</b> of an entry in the <a class="el" href="config_initializer.html">Configuration Initializer</a> are used to control <a class="el" href="config_levels.html#parsing_level_priorities">Parsing Level Priorities</a>.<h2><a class="anchor" name="parsing_levels">
Parsing Levels</a></h2>
<b>"Parsing Levels"</b> are equal to the Relative Bit Offset of the corresponding <b>CF_SET_*</b> Bit within the "Origin Window":<p>
Parsing Level : Description (Source Flag)<p>
<ul>
<li>0 = <a class="el" href="group__cflib__core.html#g764a8ea81ffc3940bf413797dcaf9a3d">CFP_PUT</a> : Function Call or Automatic Initialization.  (<a class="el" href="group__special__options__mask.html#g8d6cd1608fef5638efe964da63edf2dd">CF_SET_PUT</a>)</li><li>1 = <a class="el" href="group__cflib__core.html#g0901da5871f3cffeec56e491f8c9fc7f">CFP_ARG</a> : Commandline.  (<a class="el" href="group__special__options__mask.html#g1b3eb474a5160e5a32385f6de53d90d6">CF_SET_ARG</a>)</li><li>2 = <a class="el" href="group__cflib__core.html#gc77d72299f32e91104090cdeb93f3619">CFP_ENV</a> : Environment.  (<a class="el" href="group__special__options__mask.html#g29dbd098a75a23ddc42b3b53e430d694">CF_SET_ENV</a>)</li><li>3 = <a class="el" href="group__cflib__core.html#g6cf8dcc9fa01deae5eb44698cb01f73e">CFP_PRIV</a> : Private Configuration File.  (<a class="el" href="group__special__options__mask.html#gabf1d4d312964af93bd55f71eeec6988">CF_SET_PRIV</a>)</li><li>4 = <a class="el" href="group__cflib__core.html#g0365a86453eeaa815a79c506343bd927">CFP_SYS</a> : System Configuration File.  (<a class="el" href="group__special__options__mask.html#g8fe09807491ee119290329cf08e6f340">CF_SET_SYS</a>)</li><li>5 : <a class="el" href="group__cflib__core.html#gfa9b2b859f08e9b319cc50555255a975">CFP_DEF</a> : Built-in Default.  (<a class="el" href="group__special__options__mask.html#g17b4ef5b35afe21a4a80faa671030b65">CF_SET_DEF</a>)</li><li>6 : <a class="el" href="group__cflib__core.html#g91ce348a0630961b0c472e7dec732aae">CFP_QRY</a> : Standard Input Channel.  (<a class="el" href="group__special__options__mask.html#g09dcbb96c5ace43a7d5e7e4f52d387a8">CF_SET_QRY</a>)</li><li>7 : <a class="el" href="group__cflib__core.html#g631bc61e35c14f1d3df36a71154a776a">CFP_RESERVED</a> : Reserved for CFLIB Subprojects</li></ul>
<h2><a class="anchor" name="initialization_process">
Parsing Levels in the Initialization Process</a></h2>
On initialization the Parsing Levels 1 through 6 are processed by <a class="el" href="group__cflib__core.html#ge593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries...">cfinit()</a> in that order and priority. If a Parameter is found that has been defined in the Configuration Initializer, its content is included as String Content of that parameter in the configuration database.<p>
Whether and how the <b>Commandline</b> Arguments are used to get a parameter value depends on the <a class="el" href="struct_c_o_n_f_i_g.html#60563bd93e85c1ddb8291a2d27a9c472" title="Commandline Option for Parameter">CONFIG::option</a> setting for that parameter and the Special Option Flags:<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g9e526dae88bf6803772107ff283637b5">CF_CONCAT</a> : Argument is concatenated to option. </li><li><a class="el" href="group__special__options__mask.html#g97d17b070dac10c14d3930c58bfba76f">CF_NO_OPT_ARG</a> : Commandline argument not followig an option. </li></ul>
<p>
See details under <a class="el" href="config_initializer.html#parameter_option">Commandline Option for Parameter</a>.<p>
The <b>Environment</b> can be excluded as a possible source of a parameter value by setting the Special Option Flag<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g72b75851880f36aaa5a52fdfe7960cca">CF_IGN_ENV</a> : Do not look for Environment Variable</li></ul>
<p>
<b>Configuration</b> Files are only used when corresponding entries are defined in the Configuration Initializer, see <a class="el" href="config_levels.html#config_file_parsing">Parsing of Configuration Files</a> for details.<p>
<b>Interactive</b> queries are not performed by default. If <a class="el" href="group__cflib__core.html#ge593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries...">cfinit()</a> shall ask the user for interactive input of items that are still unresolved after parsing all lower levels, you must set Special Option Flag:<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#ge39e0d9b4e9af8c6d4b3676783dd26e0">CF_QUERY</a> : Ask the user for unresolved item after configuration parsing. </li></ul>
<p>
If an entry may not be empty (<code>NULL</code> or string "") after initialization, you can have <a class="el" href="group__cflib__core.html#ge593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries...">cfinit()</a> produce an appropriate error by setting the Special Option Flag:<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g3229f5b038eaa0c6428361d2aa510dfc">CF_MUST</a> : Entry may not be empty (<code>NULL</code> or ""). </li></ul>
<h3><a class="anchor" name="parsing_level_priorities">
Parsing Level Priorities</a></h3>
More precise control of parsing levels priorities and origin control for a parameter is available through setting one of the Flags in the "Origin Window" of the parameter's <a class="el" href="group__special__options__mask.html">Special Options Mask</a> in the <a class="el" href="config_initializer.html">Configuration Initializer</a> :<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g8d6cd1608fef5638efe964da63edf2dd">CF_SET_PUT</a> : Must be set by a function call / automatic processing: Set this Flag on Time or Date <a class="el" href="parameter_types.html">Types of Parameters</a> for automatic initialization with <em>now</em> or <em>today</em> </li></ul>
<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g1b3eb474a5160e5a32385f6de53d90d6">CF_SET_ARG</a> : Force initialization from commandline, ignore anything else</li></ul>
<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g29dbd098a75a23ddc42b3b53e430d694">CF_SET_ENV</a> : Let environment variable override earlier setting</li></ul>
<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#gabf1d4d312964af93bd55f71eeec6988">CF_SET_PRIV</a> : Let variable from private configuration file override earlier setting</li></ul>
<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g8fe09807491ee119290329cf08e6f340">CF_SET_SYS</a> : Let variable from system configuration file override earlier setting</li></ul>
<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g17b4ef5b35afe21a4a80faa671030b65">CF_SET_DEF</a> : Let default from Configuration Initializer override earlier setting</li></ul>
<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g09dcbb96c5ace43a7d5e7e4f52d387a8">CF_SET_QRY</a> : Force setting from interactive Query (<code>stdin</code>)</li></ul>
<h2><a class="anchor" name="config_file_parsing">
Parsing of Configuration Files</a></h2>
To indicate that an entry in the initializer list given to <a class="el" href="group__cflib__core.html#ge593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries...">cfinit()</a> represents the filename of one of the <a class="el" href="config_files.html">Configuration Files</a>, set one of the following Flags for that parameter:<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#gfeeb63d4d8c498bec4a237ad8b94f02f">CF_SETFILE</a> : Entry is Private Configuration File. </li><li><a class="el" href="group__special__options__mask.html#gbb03ea68e07e388da2c1337a1582c72e">CF_SYS_SETFILE</a> : Entry is System Configuration File. </li></ul>
<p>
Within the system configuration file you can choose a section, from which information is read as from a single file. To specify an entry in the list referring to the name of that section give this entry the flag<p>
<ul>
<li><a class="el" href="group__special__options__mask.html#g603f0467f101b71f5f869381429ffef4">CF_SECTION</a> : Section in Configuration File. </li></ul>
<p>
As the filenames for the two configuration files are themselves entries in the database, these levels are revisited, if neccessary, in reverse order after parsing the built-in default.<h2><a class="anchor" name="residuals">
Residual Items</a></h2>
Any commandline argument that did not match conditions for a parameter will be included in the configuration database as parameter without name marked with Flag <a class="el" href="group__special__options__mask.html#g5415b257c706aae33d91d3947a3429c0">CF_RESID</a> in the <a class="el" href="group__special__options__mask.html">Special Options Mask</a>. These additional entries from the command line can be accessed by successive calls to <a class="el" href="group__retrieval.html#g6ef6076e946383ab198ee26b9aa5603a" title="Get next Residual Command Line Argument from CFLIB DB.">cfgetres()</a>.<p>
Residual items from one of the configuration files will also be accumulated in the database and can be accessed through inquiry by name with one of the <a class="el" href="index.html#retrieval_functions">Retrieval Functions</a>. This is especially useful together with the report generation function <a class="el" href="group__report__generation.html#g2f8350e7d032c87b2a0e1cb6149a85ec" title="Process a Template from file or stdin and write generated Report to File or stdout...">cfform()</a>. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Jan 28 20:22:57 2009 for CFLIB - Flexible Configuration Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
