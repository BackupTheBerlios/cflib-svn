<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CFLIB - Flexible Configuration Library: Configuration Parsing Levels and Source/Origin Options</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">CFLIB - Flexible Configuration Library
   &#160;<span id="projectnumber">Patchlevel 21</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">CFLIB Flexible Configuration Library</a>      </li>
      <li class="navelem"><a class="el" href="cflib.html">Flexible Configuration Library - User Documentation</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Configuration Parsing Levels and Source/Origin Options </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>CFLIB is designed to give you a maximum of possibilities for feeding parameters and parameter values into the configuration.</p>
<h2><a class="anchor" id="origin_window"></a>
Origin Window</h2>
<p>The library remembers the source/origin of all parameter values by setting one of the <b>"Source Flags"</b> in the <b>"Origin Window"</b> of the <a class="el" href="group__special__options__mask.html">Special Options Mask</a> ranging from Bit Offset 8 to 15 (see <a class="el" href="config_levels.html#parsing_levels">Parsing Levels</a>). On initialization the Origin Window Flags <b>CF_SET_*</b> of an entry in the <a class="el" href="config_initializer.html">Configuration Initializer</a> are used to control <a class="el" href="config_levels.html#parsing_level_priorities">Parsing Level Priorities</a>.</p>
<h2><a class="anchor" id="parsing_levels"></a>
Parsing Levels</h2>
<p><b>"Parsing Levels"</b> are equal to the Relative Bit Offset of the corresponding <b>CF_SET_*</b> Bit within the "Origin Window":</p>
<p>Parsing Level : Description (Source Flag)</p>
<ul>
<li>0 = <a class="el" href="group__cflib__core.html#ga764a8ea81ffc3940bf413797dcaf9a3d">CFP_PUT</a> : Function Call or Automatic Initialization.  (<a class="el" href="group__special__options__mask.html#ga8d6cd1608fef5638efe964da63edf2dd">CF_SET_PUT</a>)<ul>
<li>1 = <a class="el" href="group__cflib__core.html#ga0901da5871f3cffeec56e491f8c9fc7f">CFP_ARG</a> : Commandline.  (<a class="el" href="group__special__options__mask.html#ga1b3eb474a5160e5a32385f6de53d90d6">CF_SET_ARG</a>)</li>
<li>2 = <a class="el" href="group__cflib__core.html#gac77d72299f32e91104090cdeb93f3619">CFP_ENV</a> : Environment.  (<a class="el" href="group__special__options__mask.html#ga29dbd098a75a23ddc42b3b53e430d694">CF_SET_ENV</a>)</li>
<li>3 = <a class="el" href="group__cflib__core.html#ga6cf8dcc9fa01deae5eb44698cb01f73e">CFP_PRIV</a> : Private Configuration File.  (<a class="el" href="group__special__options__mask.html#gaabf1d4d312964af93bd55f71eeec6988">CF_SET_PRIV</a>)</li>
<li>4 = <a class="el" href="group__cflib__core.html#ga0365a86453eeaa815a79c506343bd927">CFP_SYS</a> : System Configuration File.  (<a class="el" href="group__special__options__mask.html#ga8fe09807491ee119290329cf08e6f340">CF_SET_SYS</a>)</li>
<li>5 : <a class="el" href="group__cflib__core.html#gafa9b2b859f08e9b319cc50555255a975">CFP_DEF</a> : Built-in Default.  (<a class="el" href="group__special__options__mask.html#ga17b4ef5b35afe21a4a80faa671030b65">CF_SET_DEF</a>)</li>
<li>6 : <a class="el" href="group__cflib__core.html#ga91ce348a0630961b0c472e7dec732aae">CFP_QRY</a> : Standard Input Channel.  (<a class="el" href="group__special__options__mask.html#ga09dcbb96c5ace43a7d5e7e4f52d387a8">CF_SET_QRY</a>)</li>
<li>7 : <a class="el" href="group__cflib__core.html#ga631bc61e35c14f1d3df36a71154a776a">CFP_RESERVED</a> : Reserved for CFLIB Subprojects</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="initialization_process"></a>
Parsing Levels in the Initialization Process</h2>
<p>On initialization the Parsing Levels 1 through 6 are processed by <a class="el" href="group__cflib__core.html#gae593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries according to ...">cfinit()</a> in that order and priority. If a Parameter is found that has been defined in the Configuration Initializer, its content is included as String Content of that parameter in the configuration database.</p>
<p>Whether and how the <b>Commandline</b> Arguments are used to get a parameter value depends on the <a class="el" href="struct__cf.html#ad1c10047a93ac7b5b60b23edec51a9ae" title="Commandline Option for Parameter">CONFIG::option</a> setting for that parameter and the Special Option Flags:</p>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga9e526dae88bf6803772107ff283637b5">CF_CONCAT</a> : Argument is concatenated to option. <ul>
<li><a class="el" href="group__special__options__mask.html#ga97d17b070dac10c14d3930c58bfba76f">CF_NO_OPT_ARG</a> : Commandline argument not following an option. </li>
</ul>
</li>
</ul>
<p>See details under <a class="el" href="config_initializer.html#parameter_option">Commandline Option for Parameter</a>.</p>
<p>The <b>Environment</b> can be excluded as a possible source of a parameter value by setting the Special Option Flag</p>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga72b75851880f36aaa5a52fdfe7960cca">CF_IGN_ENV</a> : Do not look for Environment Variable</li>
</ul>
<p><b>Configuration</b> Files are only used when corresponding entries are defined in the Configuration Initializer, see <a class="el" href="config_levels.html#config_file_parsing">Parsing of Configuration Files</a> for details.</p>
<p><b>Interactive</b> queries are not performed by default. If <a class="el" href="group__cflib__core.html#gae593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries according to ...">cfinit()</a> shall ask the user for interactive input of items that are still unresolved after parsing all lower levels, you must set Special Option Flag:</p>
<ul>
<li><a class="el" href="group__special__options__mask.html#gae39e0d9b4e9af8c6d4b3676783dd26e0">CF_QUERY</a> : Ask the user for unresolved item after configuration parsing. </li>
</ul>
<p>If an entry may not be empty (<code>NULL</code> or string "") after initialization, you can have <a class="el" href="group__cflib__core.html#gae593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries according to ...">cfinit()</a> produce an appropriate error by setting the Special Option Flag:</p>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga3229f5b038eaa0c6428361d2aa510dfc">CF_MUST</a> : Entry may not be empty (<code>NULL</code> or "") </li>
</ul>
<h3><a class="anchor" id="parsing_level_priorities"></a>
Parsing Level Priorities</h3>
<p>More precise control of parsing levels priorities and origin control for a parameter is available through setting one of the Flags in the "Origin Window" of the parameter's <a class="el" href="group__special__options__mask.html">Special Options Mask</a> in the <a class="el" href="config_initializer.html">Configuration Initializer</a> :</p>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga8d6cd1608fef5638efe964da63edf2dd">CF_SET_PUT</a> : Must be set by a function call / automatic processing: Set this Flag on Time or Date <a class="el" href="parameter_types.html">Types of Parameters</a> for automatic initialization with <em>now</em> or <em>today</em> </li>
</ul>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga1b3eb474a5160e5a32385f6de53d90d6">CF_SET_ARG</a> : Force initialization from commandline, ignore anything else</li>
</ul>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga29dbd098a75a23ddc42b3b53e430d694">CF_SET_ENV</a> : Let environment variable override earlier setting</li>
</ul>
<ul>
<li><a class="el" href="group__special__options__mask.html#gaabf1d4d312964af93bd55f71eeec6988">CF_SET_PRIV</a> : Let variable from private configuration file override earlier setting</li>
</ul>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga8fe09807491ee119290329cf08e6f340">CF_SET_SYS</a> : Let variable from system configuration file override earlier setting</li>
</ul>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga17b4ef5b35afe21a4a80faa671030b65">CF_SET_DEF</a> : Let default from Configuration Initializer override earlier setting</li>
</ul>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga09dcbb96c5ace43a7d5e7e4f52d387a8">CF_SET_QRY</a> : Force setting from interactive Query (<code>stdin</code>)</li>
</ul>
<h2><a class="anchor" id="config_file_parsing"></a>
Parsing of Configuration Files</h2>
<p>To indicate that an entry in the initializer list given to <a class="el" href="group__cflib__core.html#gae593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries according to ...">cfinit()</a> represents the filename of one of the <a class="el" href="config_files.html">Configuration Files</a>, set one of the following Flags for that parameter:</p>
<ul>
<li><a class="el" href="group__special__options__mask.html#gafeeb63d4d8c498bec4a237ad8b94f02f">CF_SETFILE</a> : Entry is Private Configuration File. <ul>
<li><a class="el" href="group__special__options__mask.html#gabb03ea68e07e388da2c1337a1582c72e">CF_SYS_SETFILE</a> : Entry is System Configuration File. </li>
</ul>
</li>
</ul>
<p>Within the system configuration file you can choose a section, from which information is read as from a single file. To specify an entry in the list referring to the name of that section give this entry the flag</p>
<ul>
<li><a class="el" href="group__special__options__mask.html#ga603f0467f101b71f5f869381429ffef4">CF_SECTION</a> : Section in Configuration File. </li>
</ul>
<p>As the filenames for the two configuration files are themselves entries in the database, these levels are revisited, if neccessary, in reverse order after parsing the built-in default.</p>
<h2><a class="anchor" id="residuals"></a>
Residual Items</h2>
<p>Any commandline argument that did not match conditions for a parameter will be included in the configuration database as parameter without name marked with Flag <a class="el" href="group__special__options__mask.html#ga5415b257c706aae33d91d3947a3429c0">CF_RESID</a> in the <a class="el" href="group__special__options__mask.html">Special Options Mask</a>. These additional entries from the command line can be accessed by successive calls to <a class="el" href="group__retrieval.html#ga6ef6076e946383ab198ee26b9aa5603a" title="Get next Residual Command Line Argument from CFLIB DB.">cfgetres()</a>.</p>
<p>Residual items from one of the configuration files will also be accumulated in the database and can be accessed through inquiry by name with one of the <a class="el" href="cflib.html#retrieval_functions">Retrieval Functions</a>. This is especially useful together with the report generation function <a class="el" href="group__report__generation.html#ga2f8350e7d032c87b2a0e1cb6149a85ec" title="Process a Template from file or stdin and write generated Report to File or stdout.">cfform()</a>. </p>
</div></div><!-- contents -->
<hr size="1"><div align="right"><small>documentation generated by
<a href="http://www.doxygen.org/index.html"><strong>doxygen</strong></a> 1.5.8
for <a href="http://cflib.berlios.de"><strong>CFLIB PL 21</strong></a> [2013/03]</small></div>
</body>
</html>
