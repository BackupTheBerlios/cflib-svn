<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CFLIB - Flexible Configuration Library: CFLIB Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CFLIB Documentation</h1>
<p>
<h3 align="center">Patchlevel 20 </h3><h2><a class="anchor" name="intro">
Introduction and General Issues</a></h2>
CFLIB is a small, simple, flexible and portable ANSI C Library to be used as configuration interface for user programs. CFLIB builds and maintains a compact database structure consisting of a list of parameters with their name, content and some additional information about each parameter.<p>
CFLIB targets the basic needs of technical, scientific or other programmers who want to spend minimal time on coding input, output, variable parsing, report generation and the like but still have a simple to use, reliable, flexible and portable configuration interface for their programs.<p>
<dl class="user" compact><dt><b>Main Features:</b></dt><dd></dd></dl>
<ul>
<li>Commandline, environment and terminal input parsing</li><li>Configuration files</li><li>File search</li><li>Template driven report generation</li><li>Automatic time and date update</li></ul>
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><ul>
<li><a class="el" href="purpose.html">Purpose of CFLIB</a></li><li><a class="el" href="license.html">CFLIB License</a></li><li><a class="el" href="properties.html#names">The names "CFLIB", "libcf", "*cf*"</a></li><li><a class="el" href="properties.html">General Notes</a></li></ul>
</dd></dl>
<h2><a class="anchor" name="basic_usage">
Basic Usage</a></h2>
1. Include <a class="el" href="cf_8h.html" title="C Header File for CFLIB Flexible Configuration Library.">cf.h</a><p>
2. Define the <a class="el" href="config_initializer.html">Configuration Initializer</a>, an array of <a class="el" href="struct_c_o_n_f_i_g.html" title="CFLIB Configuration Database Entry.">CONFIG</a> structures<p>
3. Call <a class="el" href="group__cflib__core.html#ge593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries...">cfinit()</a> with Configuration Initializer and Commandline. The most compact initialization is done by <a class="el" href="group__cflib__core.html#gdcf24d678203bd09a0a3e05b8a986c65" title="Setup Configuration Database.">cfstart()</a>, a wrapper function for <a class="el" href="group__cflib__core.html#ge593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries...">cfinit()</a> that includes error reporting, usage message and (optional) debugging output. On initialization the following data sources are inspected or parsed in the order presented:<p>
<ul>
<li>Commandline Arguments (or compatible structure given to <a class="el" href="group__cflib__core.html#ge593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries...">cfinit()</a>) according to the description in <a class="el" href="config_initializer.html#parameter_option">Commandline Option for Parameter</a></li><li>Environment Variables</li><li><a class="el" href="config_files.html">Configuration Files</a></li><li>Built-in User-defined Default from Configuration Initializer: <a class="el" href="config_initializer.html#parameter_default">Parameter Default Value</a></li><li>Get parameter value from Standard Input <code>stdin</code>, if required</li></ul>
<p>
4. Use the <a class="el" href="index.html#retrieval_functions">Retrieval Functions</a> <b>cfget*</b>() to access configuration parameters<p>
5. Compile your program, linking the appropriate CFLIB library file for your platform and setup, usually the file name is <em>libcf.a</em> which means the library is referred to as <b>"cf"</b>. You can change the names to fit into your setup: See <a class="el" href="properties.html#names">The names "CFLIB", "libcf", "*cf*"</a><p>
6. Run your program, test CFLIB functionality and adjust the <a class="el" href="config_initializer.html">Configuration Initializer</a> according to your needs<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="simple_example.html">Simple Usage Example</a> <p>
<a class="el" href="config_levels.html">Configuration Parsing Levels and Source/Origin Options</a> <p>
<a class="el" href="group__cflib__core.html">CFLIB Core Features</a></dd></dl>
<h2><a class="anchor" name="retrieval_functions">
Retrieval Functions</a></h2>
1. Get CFLIB Version and Copyright Information: <a class="el" href="group__retrieval.html#gc4e376e3630e9b25655ee0e0b1a54a5b" title="Get Library Version/Patchlevel.">cfgetvers()</a>, <a class="el" href="group__retrieval.html#gbd4ca2adbcac9eef4d1363424e440662" title="Get Library Subversion Details.">cfgetsubvers()</a>, <a class="el" href="group__retrieval.html#g9999522b2acf8760f420d2567e7f7c50" title="Get Copyright Notice.">cfgetcpr()</a><p>
2. Get Usage Message for Output: <a class="el" href="group__retrieval.html#ge272c1881db940e56c8cc364df730271" title="Get Usage Message for (Terminal) Output.">cfgetusg()</a><p>
3. Get Configuration Parameter Value:<p>
<ul>
<li>Get parameter value: <a class="el" href="group__retrieval.html#g5e2da3f6cf3e36a910362660d167f790" title="Get value (content) of named entry.">cfget()</a>, interpretation of content and return type depend on the type setting in the parameter's <a class="el" href="group__special__options__mask.html">Special Options Mask</a></li><li>Get string value: <a class="el" href="group__retrieval.html#g8cf5f53c5b05ec5ca4f5145010f84eb4" title="Inquire CFLIB DB for String in content of named entry.">cfgetstr()</a></li><li>Get integer value: <a class="el" href="group__retrieval.html#g591b741a05205e1ddd599146b996d755" title="Inquire CFLIB DB for Integer value in content of named entry.">cfgetnum()</a></li><li>Get real/float value: <a class="el" href="group__retrieval.html#g5f5ec5179e69c2bdfb06ff38a5af16e4" title="Inquire CFLIB DB for Float (Real) value in content of named entry.">cfgetreal()</a></li><li>Inquire flag/switch status: <a class="el" href="group__retrieval.html#gc0188464b59267e14b5c44efb1d4a0f2" title="Inquire CFLIB DB for Flag value in content of named entry.">cfgetflag()</a></li><li>Get value of (next) residual command line argument: <a class="el" href="group__retrieval.html#g6ef6076e946383ab198ee26b9aa5603a" title="Get next Residual Command Line Argument from CFLIB DB.">cfgetres()</a></li></ul>
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>All of these functions except <a class="el" href="group__retrieval.html#g6ef6076e946383ab198ee26b9aa5603a" title="Get next Residual Command Line Argument from CFLIB DB.">cfgetres()</a> require the parameter name as argument</dd></dl>
<h2><a class="anchor" name="set_save">
Setting Parameters and Saving the Configuration</a></h2>
<ul>
<li><a class="el" href="cf_8h.html#b4370bac1e151641bfb78e65f8ec4b44" title="Update or Add Parameter (Utility Function Macro).">cfput()</a> : Update or Add Parameter (Utility Function Macro). </li><li><a class="el" href="group__setting__saving.html#g9553f7a24b080660793a560c2bc8f210" title="Update or Add Parameter name with string content.">cfputstr()</a> : Update or Add Parameter <em>name</em> with string <em>content</em>. </li><li><a class="el" href="group__setting__saving.html#g6f133f88dc253a6a80d13eed4d123063" title="Set all Time and/or Date entries in CFLIB DB to now or today.">cfputtime()</a> : Set all Time and/or Date entries in CFLIB DB to <em>now</em> or <em>today</em>. </li><li><a class="el" href="group__setting__saving.html#g0f6ed90e3ecfa0074af1635a0e4339ef" title="Alter or query the CF_NOSAVE Flag of Parameter name.">cfnosave()</a> : Alter or query the <a class="el" href="group__special__options__mask.html#gd76153c65f68cc0ee5c1a04c8c3e80bf">CF_NOSAVE</a> Flag of Parameter <em>name</em>. </li><li><a class="el" href="group__setting__saving.html#g046d8a68eae35b987eacca04a9a06cca" title="Write configuration data to a Configuration File or stdout.">cfsave()</a> : Write configuration data to a Configuration File or <code>stdout</code>. </li></ul>
<p>
<ul>
<li>See <a class="el" href="config_files.html">Configuration Files</a> for details</li></ul>
<h2><a class="anchor" name="general_utilities">
General Utilities</a></h2>
These functions and Macros are used in the library but do not depend on the configuration database or any cf*() functions. They are (small) general tools that you can use in your program if you like.<p>
<ul>
<li>String Manipulation: <a class="el" href="group__utilities.html#gb6760d18c7c13f3c80d365abcb6a46b3" title="String Utility Function.">EatWhiteSpace()</a>, <a class="el" href="group__utilities.html#g869ea1081375ada22168696db002bc58" title="String Utility Function.">RemoveCR()</a>, <a class="el" href="group__utilities.html#gbb7b78ca5a077167e24637bba539eea1" title="String Utility Function.">RemoveTrailSpace()</a></li><li>File Utilities: <a class="el" href="group__utilities.html#g4e4e8f9a03b7f3598b5efd199b9a67c9" title="Find a File in Path trying Extensions.">FindFile()</a>, <a class="el" href="group__utilities.html#g0fccda7427db33b2f73a3b6dca864207" title="Copy or Rename File &quot;file&quot; to Backup File &quot;file~&quot; or &quot;file...">BackupFile()</a></li><li>Other Tools: <a class="el" href="group__utilities.html#g9a90e738d03b642f33901600671d225a" title="Test whether stream is a terminal.">IsATerminal()</a>, <a class="el" href="group__utilities.html#gbfbf02b37e47027916f3352798f7d44c" title="Delete bits of Mask b from Mask a.">DelFlag()</a>, <a class="el" href="group__utilities.html#gfcc4d6e712f81df21ea69277d42af839" title="Set bits of Mask b in Mask a.">SetFlag()</a></li></ul>
<h2><a class="anchor" name="advanced">
Advanced Usage</a></h2>
<h3><a class="anchor" name="error_handling">
Error Handling</a></h3>
CFLIB maintains a simple global Error Stack that is used by library functions like <a class="el" href="group__cflib__core.html#ge593ff607f853bd5fc16a16bb6759314" title="Initialize CFLIB Configuration Database and parse possible sources for database entries...">cfinit()</a> when multiple errors can occur. Error Items consist of a numeric Error Code and (optionally) an Error Message string. Repeated calls to <a class="el" href="group__errors.html#g2dc49b60b3ec7a82086e60f4b1c41e18" title="Error Code and Message Inquiry Function.">cfgeterr()</a> will successively return error entries while deleting them from the stack until the list is empty. User programs may also use the CFLIB error stack by calling <a class="el" href="group__errors.html#gad2687826308f21b54657d2728e4cfcc" title="Init, exit or append to Error List.">cfputerr()</a> without the need to initialize a configuration.<p>
For more details see: <a class="el" href="group__errors.html">Error Handling</a> - Error Codes, Functions and Structures. <h3><a class="anchor" name="reports">
Report Generation</a></h3>
<ul>
<li>Generate Output from Template and current parameter values: <a class="el" href="group__report__generation.html#g2f8350e7d032c87b2a0e1cb6149a85ec" title="Process a Template from file or stdin and write generated Report to File or stdout...">cfform()</a></li></ul>
<h3><a class="anchor" name="debugging">
Configuration Debugging</a></h3>
These functions are thought to be used by the programmer working with CFLIB during development and testing of a program.<p>
<ul>
<li>Dump Configuration DB in human readable form: <a class="el" href="group__advanced__features.html#gecfc8ee37366e1b36cb5aac0cc41ebdc" title="Debugging Function.">cfdump()</a></li><li>Test and Dump Configuration Initializer: <a class="el" href="group__advanced__features.html#g35e2c28f591ac71e3617c612233ecdd0" title="Debugging Function (experimental).">cfdinichk()</a></li></ul>
<h3><a class="anchor" name="metainfos">
Get Information About a Configuration Parameter:</a></h3>
<ul>
<li>Get source/origin of the parameter's value: <a class="el" href="group__retrieval.html#gdf84eed41bdaa0a6cd8cd474c79d50b1" title="Inquire CFLIB DB for Source of named entry&#39;s content.">cfgetsrc()</a></li><li>Inquire Bit from parameter's Special Options Mask by Offset: <a class="el" href="group__retrieval.html#g09929d4a48932749dd9d0d32d0f3f08c" title="Inquire CFLIB DB for Bit set in entry&#39;s Special Options Fag CONFIG::flag.">cfflaginq()</a></li></ul>
<h3><a class="anchor" name="advanced_other">
Other Functions and Features</a></h3>
<ul>
<li>Exit Configuration: <a class="el" href="group__cflib__core.html#g47bfff42f432b3e8b5b9f12b695e60db" title="Free allocated memory and reset the configuration database and error stack.">cfexit()</a></li><li>Expand User Home Directory in a File Path Parameter: <a class="el" href="group__advanced__features.html#gb6f874ac347d273dc45ad011808fe703" title="Expand ~ or ~user in parameter content.">cfhomexp()</a></li><li>General (internal) retrieval function: <a class="el" href="group__retrieval.html#g872f83b13a8f722176f5e299f2a42e0f" title="Library internal function, use appropriate Macro functions!">cfgetent()</a></li></ul>
<h2><a class="anchor" name="compilation_issues">
Compilation and Development Issues</a></h2>
<ul>
<li><a class="el" href="development.html#platforms">Platforms</a></li><li><a class="el" href="development.html#binaries">Binaries and Executables</a></li><li><a class="el" href="development.html#library_building">Building the Library</a></li><li><a class="el" href="development.html#compilation_options">System and Compiler dependent Defines</a></li><li><a class="el" href="development.html#minimal_replacement">Minimal CFLIB Replacement</a></li></ul>
<h2><a class="anchor" name="help">
Help and Support</a></h2>
<ul>
<li><b>Help</b> is this documentation</li><li><b>Support</b> is the (open) source code</li><li>The project is maintained from time to time as needed ;-)</li><li>Comments, Bug Reports or (better) Bug Fixes are welcome!</li><li>See <a class="el" href="license.html">CFLIB License</a></li><li>... Have Fun! </li></ul>
</div>
<hr size="1"><div align="right"><small>documentation generated by
<a href="http://www.doxygen.org/index.html"><strong>doxygen</strong></a> 1.5.8
for <a href="http://cflib.berlios.de"><strong>CFLIB PL 20</strong></a> [2009/01]</small></div>
</body>
</html>
